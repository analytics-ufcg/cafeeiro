<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="utf-8">
	<title id="titulo">Cafeeiro</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">
	
	<!-- CSS -->
	<link href="css/cafeeiro.css" rel="stylesheet">
	<link href="css/cafeeiro-d3.css" rel="stylesheet">
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/bootstrap-responsive.css" rel="stylesheet">
	<link href="css/bootstrap-select.min.css" rel="stylesheet">
	
	<!-- LIBRARIES -->
	<script type="text/javascript" src="js/jquery-1.10.2.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/bootstrap-select.min.js"></script>
	<script type="text/javascript" src="js/d3.v3.min.js"></script>

	<!-- CONTROLLER -->
	<script type="text/javascript" src="controller/controller.js"></script>
	
	<!-- VIEW -->
	<script type="text/javascript" src="view/views_prediction_analysis.js"></script>
	<script type="text/javascript" src="view/views_attribute_analysis.js"></script>
	<script type="text/javascript" src="view/errorbar.js"></script>
	<script type="text/javascript" src="view/chart_parallel.js"></script>

	<!-- ADD LIB -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.9/require.min.js"></script> 
	
</head>
<body>
	<!-- Part 1: Wrap all page content here -->
	<div id="wrap">
		<!-- Begin page content -->
		<div id="content_bar" class="container">
        	<div id="top_bar" class="hero-unit">
          		<h1>Cafeeiro<br>
          			<!-- Subtitle -->
          			<small>Alerta de Progresso da Ferrugem do Cafeeiro</small>
          		</h1>
        	</div>
	    	<form id ="scenario" class = "form-inline" method="GET">
        		<fieldset>
        			<label><strong>Cenário</strong></label>
        			<select id = "the_scenario" name="search_scenario" style='width:auto;'>
						<option selected>Varginha-alta-tx5</option>
						<option>Tudo-alta-tx5</option>
					</select> 
        		</fieldset>
        	</form>
        	<div id="central_bar" class="tabbable">
				<ul class="nav nav-tabs">
					<li class="active"><a href="#att_pane" data-toggle="tab">Análise dos Atributos</a></li>
					<li><a href="#prediction_pane" data-toggle="tab">Análise da Predição</a></li>
				</ul>
				<div class="tab-content">
					
					<!-- Análise dos atributos -->
					<div id="att_pane" class="tab-pane active row-fluid">

						<div id="atts_bar" class="span3">
							<label for="atts_general"><strong>Atributos Gerais</strong></label>
								Cidade 
								<select id="cidade_list" name="cidade" multiple style="width:auto">
								</select>
								<br>
								Lavoura 
								<select id="lavoura_list" name="lavoura" multiple style="width:auto; height:50px">
								</select>
							<form id="atts_form" > <!-- class = "form" role="form" method="GET" -->
								<label for="atts_meteorologic"><strong>Atributos Metereológicos (PINF)</strong></label>
									<div class="checkbox"><label><input type="checkbox" name="tmax_pinf" checked>tmax_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="tmin_pinf" checked>tmin_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="tmed_pinf">tmed_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="ur_pinf">ur_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="med_precip_pinf">med_precip_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="precip_pinf">precip_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="dchuv_pinf">dchuv_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="med_indpluvmax_pinf">med_indpluvmax_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="acdinf_pinf">acdinf_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="dmfi_pinf">dmfi_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="ddi_pinf">ddi_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="nhur95_pinf">nhur95_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="smt_nhur95_pinf">smt_nhur95_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="thur95_pinf">thur95_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="nhnur95_pinf">nhnur95_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="smt_nhnur95_pinf">smt_nhnur95_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="tmax_pi_pinf">tmax_pi_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="tmin_pi_pinf">tmin_pi_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="tmed_pi_pinf">tmed_pi_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="vvento_pinf">vvento_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="smt_vvento_pinf">smt_vvento_pinf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="dfmfi_pinf">dfmfi_pinf</label></div>
								<label for="atts_target"><strong>Atributos Meta e Derivados</strong></label>
									<div class="checkbox"><label><input type="checkbox" name="incidencia">incidencia</label></div>
									<div class="checkbox"><label><input type="checkbox" name="taxa_inf">taxa_inf</label></div>
									<div class="checkbox"><label><input type="checkbox" name="taxa_inf_m5" checked disabled>taxa_inf_m5</label></div>
								<br>
							    <button type="submit" id="atts_submit_btn" class="btn btn-primary btn-block" data-loading-text="Carregando...">
							    	Enviar
							    </button>
							</form>
						</div>

						<div id="atts_analysis" class="span9">
				        	<div id="central_bar" class="tabbable">
				        		<ul class="nav nav-tabs">
									<li class="active"><a href="#temporal_pane" data-toggle="tab">Temporal</a></li>
									<li><a href="#atemporal_pane" data-toggle="tab">Atemporal</a></li>
								</ul>
								<div class="tab-content containter-fluid">

									<div id="temporal_pane" class="tab-pane row-fluid" class="span8">
										
									</div>

									<div id="atemporal_pane" class="tab-pane row-fluid">
									</div>
								</div>
				        	</div>
					    </div>
					</div>	

					<!-- Análise das predições -->
				    <div id="prediction_pane" class="tab-pane">
			        	<div id="central_bar" class="tabbable">
			        		<ul class="nav nav-tabs">
								<li class="active"><a href="#temporal_pane2" data-toggle="tab">Análise Temporal</a></li>
								<li><a href="#model_comparison_pane" data-toggle="tab">Comparação de Modelos</a></li>
							</ul>
							<div class="tab-content containter-fluid">

								<div id="temporal_pane2" class="tab-pane row-fluid">
								</div>

								<div id="model_comparison_pane" class="tab-pane row-fluid">
									<div id="parameters_submit" class="span3">
										<form id="model_comparison_form">
											<label for="compare_models_att"><strong>Atributos</strong></label>
									    	<select id="att_list" name="att_list" multiple>
									    		<option>Subjetivo - M1</option>
									    		<option>Subjetivo - M2</option>
									    		<option>Subjetivo - M3</option>
									    		<option>Subjetivo - M1 - IncW1</option>
									    		<option>Subjetivo - M2 - IncW1</option>
									    		<option>Subjetivo - M3 - IncW1</option>
									    	</select>
										    <br>
									    	<label for="compare_models_att"><strong>Métricas</strong></p></label>
									    	<select id="metric_list" name="metric_list" multiple>
												<option>Acurácia</option>
												<option>Erro</option>
												<option>Sensitividade</option>
												<option>Especificidade</option>
												<option>FP-Rate</option>
												<option>TP-Rate</option>
												<option>AUC</option>
											</select>
										    <br>
										    <button type="submit" id="model_comparison_submit_btn" class="btn btn-primary btn-block" data-loading-text="Carregando...">
										    	Enviar
										    </button>
										</form>
									</div>
									<div id="comparison_plot" class="span9">
						            </div>
								</div>
							</div>
			        	</div>

				    </div>
				</div>
			</div>
	    </div>
    </div>
    <div id="footer">
	    <div class="container">

	        <p class="muted credit text-center">
	        	<a class="text-success" target='_blank' href='https://sites.google.com/a/computacao.ufcg.edu.br/analytics/'> UFCG - FRH <em>Analytics </em><br>
	        	</a>
	        	Powered by <a class='text-success' target='_blank' href='http://twitter.github.io/bootstrap/'>Bootstrap</a>,
	        	<a class='text-success' target='_blank' href='http://www.vertica.com/'>Vertica</a> |
				<a class='text-success' target='_blank' href='https://github.com/analyticsUfcg/cafeeiro'>View source on GitHub</a>
			</p>
        </div>
    </div>

    <!-- Dados das series -->
    <script src="./sample_data.js"></script>

</body>
</html>
<script type="text/javascript" language="javascript">
	$(document).ready(main_controller());

    //Series Temporais
      'use strict';
    
        $(function () {

            requirejs.config({
                "baseUrl": "./",
                "paths": {
                    "app": "./",
                    'moment': 'http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.2.1/moment.min',
                    'underscore': 'http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min'                    
                }
            });


            require(['app/d3.chart'], function (d3Chart) {
                d3Chart.init({ container: '#temporal_pane', xDim: 'DateTime' });
              //d3Chart.addGraph({ id: 'Speed', type: 'horizon', name: 'Speed', dataId: 512, yVal: ['Value'], data: speedData });
                d3Chart.addGraph({ id: 'Imps', type: 'analog', name: 'RPM', dataId: 513, yVal: ['Value'], data: imps1 });
                d3Chart.addGraph({ id: 'Clicks', type: 'analog', name: 'RPM2', dataId: 513, yVal: ['Value'], data: imps2 });
                d3Chart.addGraph({ id: 'CTR', type: 'analog', name: 'CTR', dataId: 513, yVal: ['Value'], data: CTR });
              //d3Chart.addGraph({ id: 'DI', type: 'digital', name: 'Digital Input', dataId: 522, data: diData });
                
              //d3Chart.addGraph({ id: 'Accel', type: 'analog', name: 'Accel', dataId: 522, yVal: ['X', 'Y', 'Z'], data: accelData });
                d3Chart.render();                              

                setTimeout(function () {  
                    d3Chart.reorderGraph('Accel', 'up');
                    
                    //window.setTimeout(function () {
                    //    d3Chart.removeGraph('RPM');
                    //}, 2000);
                    
                }, 3000);


            });

        });

</script>
